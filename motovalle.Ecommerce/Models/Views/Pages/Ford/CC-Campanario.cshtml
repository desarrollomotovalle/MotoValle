@model motovalle.Ecommerce.Models.ViewModels.Landing.ContactViewModel
@{
    ViewData["Title"] = "Ford - Plan Financiero";
    Layout = "~/Views/Shared/Landing/_LayoutLandingFord.cshtml";
}

@section Styles{
    <style type="text/css">
        #hero {
            background: url("@Url.Content("~/landingAssets/landing-mazda/assets/img/ford-campaigns/campanario-ford-landing-septiembre-full.png")") top center no-repeat;
            background-size: cover;
            background-repeat: no-repeat;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            height: 100vh;
            width: 100%;
            position: relative;
            border-bottom: 1px solid #17618d;
            background-color: black
        }

        @@media (max-width: 768px) {
            #hero {
                background: url('@Url.Content("~/landingAssets/landing-mazda/assets/img/ford-campaigns/campanario-ford-landing-septiembre-mobile.png")') top center no-repeat;
                height: 83.3vh;
                background-size: contain;
                background-repeat: no-repeat;
                -webkit-background-size: contain;
                -moz-background-size: contain;
                -o-background-size: contain;
                position: relative;
                background-color: #17618d;
            }
        }

        @@media (max-width: 411px) {
            #hero {
                height: 76vh;
            }
        }

        @@media (max-width: 375px) {
            #hero {
                height: 76vh;
            }
        }

        @@media (max-width: 360px) {
            #hero {
                height: 76vh;
            }
        }

        @@media (max-width: 280px) {
            #hero {
                height: 58vh;
            }
        }

        a {
            color: #fff;
        }

        a:hover {
            color: #8b8b8b;
            text-decoration: none;
        }
    </style>
}

<!-- ======= Hero Section ======= -->
<section id="hero">
    <div class="hero-container">
        <a href="#features" class="scrollto"><i class='bx bxs-chevrons-down bx-flashing bx-big-size'></i></a>
    </div>
    <div class="row">
        <div class="col-lg-3 col-md-3 col-sm-12 col-12">
            <div class="py-3" id="formCardMazda">
                <div class="col-lg-10 col-md-10 col-sm-10 col-12 pl-lg-0 pl-md-0 pl-sm-0 p-1">
                    <!-- form user info -->
                    <div class="card" style="background-color:#2e2e2e; color:white;">
                        <div class="card-header">
                            <h4 class="mb-0">Cotizar</h4>
                        </div>
                        <div class="card-body">
                            <!-- Form -->
                            <form method="post" action="/Pages/@TempData["Controller"]" id="frmMazdaCotizar">
                                @Html.AntiForgeryToken()
                                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                                <input asp-for="CampaingNumber" hidden />
                                <!-- Heading -->

                                <div class="form-group form-group-sm">
                                    <input asp-for="FullName" class="form-control form-control-sm" placeholder="@Html.DisplayNameFor(m => m.FullName)" />
                                    <span asp-validation-for="FullName" class="text-danger"></span>
                                </div>
                                <div class="form-group form-group-sm">
                                    <input asp-for="Email" class="form-control form-control-sm" placeholder="@Html.DisplayNameFor(m => m.Email)" />
                                    <span asp-validation-for="Email" class="text-danger"></span>
                                </div>
                                <div class="form-group form-group-sm">
                                    <input asp-for="City" class="form-control form-control-sm" placeholder="@Html.DisplayNameFor(m => m.City)" />
                                    <span asp-validation-for="City" class="text-danger"></span>
                                </div>
                                <div class="form-group form-group-sm">
                                    <input asp-for="PhoneNumber" class="form-control form-control-sm" placeholder="@Html.DisplayNameFor(m => m.PhoneNumber)" />
                                    <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                                </div>
                                <div class="form-group form-group-sm">
                                    @Html.TextAreaFor(x => x.Message, 3, 1, new { @class = "form-control form-control-sm", @placeholder = @Html.DisplayNameFor(m => m.Message) })
                                    <span asp-validation-for="Message" class="text-danger"></span>
                                </div>
                                <div class="form-group form-group-sm">
                                    <div class="form-check">
                                        @Html.CheckBoxFor(model => model.HabeasData, new { @class = "form-check-input", @required = "required" })
                                        <label class="form-check-label">
                                            Acepto las <a href="~/files/POLITICA DATOS PERSONALES MOTOVALLE[2336].pdf" rel="noreferrer" target="_blank"> políticas de privacidad</a>
                                        </label>
                                    </div>
                                    <span asp-validation-for="HabeasData" class="text-danger"></span>
                                </div>

                                <div class="text-center">
                                    <input type="submit" class="btn btn-secondary" value="¡Cotiza ya!" />
                                </div>
                            </form>
                            <!-- Form -->
                        </div>
                    </div>
                    <!-- /form user info -->
                </div>
            </div>
        </div>
        <div class="col-lg-9 col-md-9 col-sm-12 col-12"></div>
    </div>
</section>
<!-- End Hero -->
<!-- ======= Header ======= -->
<header id="header" class="d-flex align-items-center" style="">
    <div class="container d-flex align-items-center">
        <div class="col-md-5">
            <div class="logo">
                <a href="#" class="go-home"><img src="~/media/brands/mv65_1b.png" alt="" class="img-fluid"></a>
            </div>
        </div>
        <div class="col-md-7">
            <a href="https://api.whatsapp.com/send?phone=573113769946&text=Quiero%20Cotizar%20con%20%20Motovalle%20el%20Ford%20%20de%20%20mis%20%20sue%C3%B1os%20&&&source=&data=&app_absent=" target="_blank" rel="noreferrer">
                <img src="~/landingAssets/landing-mazda/assets/img/add/cotizar-wpp.png" alt="wpp-Contact" class="wpp-contact" />
            </a>
        </div>
    </div>
</header><!-- End Header -->

<main id="main">
    <!-- ======= Features Section ======= -->
    <section id="features" class="features pb-0 m-0">
    </section><!-- End Features Section -->

    <div>
        <div id="renderFormMobileScreen"></div>
    </div>

    <!-- ======= Contact Us Section ======= -->
    <section id="contact" class="contact p-0">
        <div class="container">
            <div class="section-title">
                <span>¿Dónde estámos?</span>
                <h2>¿Dónde estámos?</h2>
            </div>
            <div class="row justify-content-center pb-5">
                <div class="col-lg-6 col-md-6 pb-lg-0 pb-md-0 pb-4">
                    <div class="info-box">
                        <i class="bx bx-map"></i>
                        <h3>Centro Comercial Campanario</h3>
                        <p>Cra. 9 #24AN-21, Popayán, Cauca</p>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 mt-4 mt-lg-0">
                    <div class="info-box">
                        <i class="bx bx-phone-call"></i>
                        <h3>Comunícate con nosotos</h3>
                        <p>+ 57 311 376 9946</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="embed-responsive embed-responsive-21by9">
            <iframe class="embed-responsive-item" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3986.142972456748!2d-76.597016386209!3d2.459481957693114!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e30039d7270d777%3A0xa749ba51fed22c24!2sCampanario%20Shopping%20Center!5e0!3m2!1sen!2sco!4v1599853007449!5m2!1sen!2sco" width="100%" height="400" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
        </div>
    </section><!-- End Contact Us Section -->
</main>

@section Scripts{
    @*Imports*@
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }
    <script src="~/landingAssets/landing-mazda/assets/js/lading-mazda.js" type="text/javascript"></script>
    <script type="text/javascript" src="~/js/maps.js"></script>
    <script type='text/javascript' src='https://maps.google.com/maps/api/js?key=AIzaSyBVJ03UjRxywFn8ch5YseSPn2tZ_FsFOgQ&#038;libraries=geometry%2Cplaces%2Cweather%2Cpanoramio%2Cdrawing&#038;language=es&#038;ver=5.2.5'></script>

    @*Message*@
    <script type="text/javascript">
        (async () => {
            toggleForm();
            window.addEventListener('resize', toggleForm);
            function toggleForm() {
                if (document.documentElement.clientWidth < 769) {
                    const $formCardMazda = document.querySelector("#formCardMazda");
                    if ($formCardMazda.innerHTML !== '') {
                        document.querySelector("#renderFormMobileScreen").innerHTML = $formCardMazda.innerHTML;
                        $formCardMazda.innerHTML = '';
                    }
                } else {
                    const $renderFormDiv = document.querySelector("#renderFormMobileScreen");
                    if ($renderFormDiv.innerHTML !== '') {
                        document.querySelector("#formCardMazda").innerHTML = $renderFormDiv.innerHTML;
                        $renderFormDiv.innerHTML = '';
                    }
                }
            }

            if ('@TempData["Error"]' != '') {
                if ('@TempData["Error"]' == "true") {
                    const ToastError = Swal.mixin({
                        toast: true,
                        position: 'top',
                        showConfirmButton: false,
                        timer: 3000,
                        timerProgressBar: true,
                        onOpen: (toast) => {
                            toast.addEventListener('mouseenter', Swal.stopTimer)
                            toast.addEventListener('mouseleave', Swal.resumeTimer)
                        }
                    })

                    await ToastError.fire({
                        icon: 'error',
                        title: '¡Ups!',
                        html: 'Ha sucedido un error al enviar tu información. &#128577;. Intenta nuevamente.',
                    });
                }
                else {
                    document.querySelector("#FullName").value = "";
                    document.querySelector("#Email").value = "";
                    document.querySelector("#PhoneNumber").value = "";
                    document.querySelector("#Message").value = "";
                    document.querySelector("#City").value = "";

                    const ToastSuccess = Swal.mixin({
                        toast: true,
                        position: 'top',
                        showConfirmButton: false,
                        timer: 6000,
                        timerProgressBar: true,
                        onOpen: (toast) => {
                            toast.addEventListener('mouseenter', Swal.stopTimer)
                            toast.addEventListener('mouseleave', Swal.resumeTimer)
                        }
                    })

                    await ToastSuccess.fire({
                        icon: 'success',
                        title: '<strong>¡Perfecto!..</strong>',
                        html: 'Tu información ha sido enviada correctamente. &#128512;.'
                    });
                };
            }
        })();
    </script>
}